# Food Ordering App Backend

In today's examination you will be designing backend for a food ordering app. We want to have a full-fledged backend ready to be used with an app including, `authentication`, `ordering`, `payment` and `delivery-tracking`. 

But due to time constraints we will only be focusing on a subset of these features.

## Requirements
You will be building this app for a restaurant chain, where they have a manager who will receive all orders and can add or remove restaurants as well. The manager has come to you with following feature requests.

- Anyone can signup on the platform, and they will be called `customers`
- Manager (admin) should be able to add a new Restaurant or delete any existing restaurants
- Manager can add dishes under any restaurant
- Customer can see all restaurants and get dishes offered by any particular restaurant as well
- Customer can order dishes from **only one** restaurant at a time, and each dish can have variable quantity.
- Manager can see all the orders for any particular restaurant and they should be able to filter the orders by their status (pending, completed or cancelled)
- Manager should be able to toggle the status of any order.
- Manager should be able to see revenue generated by any restaurant for any given day range.

Although the requirements sounds like there are two types of user (`customer` and `admin`) but for this exam we will consider the same. So for this exam, even customers would be able to create restaurants and add `dishes`.

## Endpoints needed
These are minimum endpoints needed, feel free to be more creative and add more endpoints if it improves the flow.
- Auth
  - `POST /auth/signup`  
  - `POST /auth/login`
  - `POST /auth/token`
  
- Restaurants 
  - `POST /restaurants`: Creates new restaurant
  - `GET /restaurants`: List all restaurants
  - `POST /restaurants/:id`: Details of restaurants with all dishes offered
  - `POST /restuarants/:id/add-dish`: Add new dish for a restaurant
  - `GET /restaurants/:id/orders`: Get all orders of a restaurant, should be able to filter by passing `?status=pending` etc.
  - `GET /restaurants/:id/revenue?start_date=2022-09-08`: Get revenue of a restaurant for given time range. `end_date` default would be `today`'s date
  
- Orders
  - `POST /orders`: Create new order
  - `GET /orders/:id`: Get details of any order
  - `POST /orders/:id/update`: Change status of any order

**Note: Make sure to write all the endpoints in your README.md file so it will be easier for us to test.**

## Tech Stack and Notes
- ExpressJS
- MongoDB
- Postman for API testing, additional points if you can share the postman collection as well.

Feel free to share your DB design with us for feedback before starting to code.

Good Luck! ðŸ’»